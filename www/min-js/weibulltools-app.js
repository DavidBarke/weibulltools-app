var binding=new Shiny.InputBinding;$.extend(binding,{find:function(a){return $(a).find(".b-lives-input")},initialize:function(a){console.log("init");let b=$(a).attr("data-value").split(",").map(parseFloat);$(a).data("value",b),this.renderBadges(a,b)},getValue:function(a){return $(a).data("value")},setValue:function(a,b){$(a).data("value",b.value),this.renderBadges(a,b.value),$(a).trigger("update")},receiveMessage:function(a,b){this.setValue(a,b)},subscribe:function(a,b){$(a).on("update.b-lives",function(){b()})},unsubscribe:function(a){$(a).off("b-lives")},renderBadges:function(a,b){$(a).empty(),b.map(b=>{$(a).append(this.badge(b))})},badge:function(a){return`<span class="left badge badge-primary">${a}</span> `}}),Shiny.inputBindings.register(binding,"b-lives-input");function changeTooltipMessage(a,b){var c=a.getAttribute("data-original-title");a.setAttribute("data-original-title",b),$(a).tooltip("show"),a.setAttribute("data-original-title",c)}Clipboard.isSupported()&&$(document).ready(function(){$("pre.r").addClass("hasCopyButton"),$("<button type='button' class='btn btn-primary btn-copy-ex' type = 'submit' title='Copy to clipboard' aria-hidden='true' data-toggle='tooltip' data-placement='left' data-trigger='hover' data-clipboard-copy><i class='fa fa-copy' aria-hidden='true'></i></button>").prependTo(".hasCopyButton"),$(".btn-copy-ex").tooltip({container:"body"});var a=new Clipboard("[data-clipboard-copy]",{text:function(a){return a.parentNode.textContent}});a.on("success",function(a){changeTooltipMessage(a.trigger,"Copied!"),a.clearSelection()}),a.on("error",function(){changeTooltipMessage(e.trigger,"Press Ctrl+C or Command+C to copy")})});updateConnectedTabBox=function(){$(".nav-tabs[connected-id]").on("click",function(){let a=this;setTimeout(function(){let b=$(a).attr("connected-id"),c=$(a).find(".active").attr("data-value");$("#"+b).find("[data-value=\""+c+"\"").tab("show")},0)})},$(updateConnectedTabBox);shinyjs.getCookie=function(a){var b=Cookies.get(a.cookie);Shiny.setInputValue(a.id,b)},shinyjs.setCookie=function(a){Cookies.set(a.cookie,a.value,{sameSite:"strict",expires:1}),Shiny.setInputValue(a.id,a.value)},shinyjs.rmCookie=function(a){Cookies.remove(a.cookie,{sameSite:"strict",expires:1}),Shiny.setInputValue(a.id,void 0)};$(document).on("shiny:connected",function(){darkCookie=Cookies.get("dark-mode");var a;a=void 0===darkCookie?window.matchMedia("(prefers-color-scheme: dark)").matches:"true"==darkCookie,$("body").hasClass("dark-mode")||a||$("#customSwitch1").click()});getSidebarBinding=function(){return Shiny.inputBindings.bindings[3].binding},bindEmphasizeVarname=function(){$(".varname-link").off("click.emphasize").on("click.emphasize",function(){tabName=$(this).attr("tab-name"),sidebarBinding=getSidebarBinding(),sidebarBinding.setValue(sidebarBinding.find(document),tabName),varname=$(this).attr("varname");let a=$(".r-function-varname[name="+varname+"]");a.addClass("emphasized"),setTimeout(function(){a.removeClass("emphasized")},1500)})},bindEmphasizeReferences=function(){$(".ref-link").off("click.emphasize").on("click.emphasize",function(){tabName=$(this).attr("tab-name"),sidebarBinding=getSidebarBinding(),sidebarBinding.setValue(sidebarBinding.find(document),tabName),reference=$(this).attr("reference");let a=$("#shiny-tab-"+tabName+" .r-function-name[name="+reference+"]").parents(".r-function");a[0].scrollIntoView({behavior:"smooth"}),a.addClass("emphasized"),setTimeout(function(){a.removeClass("emphasized")},1500)})},$(bindEmphasizeVarname),$(bindEmphasizeReferences);bindPopoverClick=function(){$("[data-toggle=\"popover-click\"]").popover(),$("[data-toggle=\"popover-click\"]").off("shown.bs.popover").on("shown.bs.popover",function(){setTimeout(function(){$("[data-toggle=\"popover-click\"]").popover("hide")},1e3)})},bindTooltipHover=function(){$("[data-toggle=\"tooltip-hover\"]").tooltip({boundary:"window"}),$("[data-toggle=\"tooltip-hover\"]").off("shown.bs.tooltip").on("shown.bs.tooltip",function(){$(document).one("click",function(){$("[data-toggle=\"tooltip-hover\"]").tooltip("hide")})})},$(bindPopoverClick),$(bindTooltipHover);$(()=>{$(document).on("click",".reset-numeric-input",a=>{let b=$(a.target).closest(".flex-container").find("input"),c=b.data("shiny-input-binding");c.setValue(b[0],b.attr("value")),b.trigger("change")})});$(".r-function").on("click",".up-down-btn",function(){$(this).find("i").toggleClass("fa-chevron-down"),$(this).find("i").toggleClass("fa-chevron-up"),rFunction=$(this).parents(".r-function"),rFunction.find(".r-function-body").slideToggle(),rFunction.find(".r-function-placeholder").slideToggle()});